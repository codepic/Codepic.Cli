---
mode: agent
model: GPT-5-Codex (Preview) (copilot)
---

If currently on `main`, stop and ask the user to create a feature branch before proceeding.

Otherwise follow this workflow:

1. `git fetch` and compare the active branch to `origin/main` (for example, `git diff origin/main...HEAD`) so you understand every change that will appear in the PR.
2. Cross-check the diff against `.github/instructions/.pull-request.instructions.md` (and any other applicable instructions). When a change conflicts with published guidance, trigger the gated alignment protocol with the user and do not continue until a decision is recorded.
3. Confirm the prep checklist from `.pull-request.instructions.md` is satisfied (`codepic lint`, docs updated, commits aligned with `.commit.instructions.md`, etc.). If a task cannot be completed by the agent, explicitly ask the user to run it.
4. Summarize the diff by grouping related changes, noting testing performed, documentation updates, and follow-up work.
5. Produce a PR title and description that matches the repository guidelines (Summary / Testing / Docs/Instructions / Follow-up sections). Keep the final response limited to that title + template.

## Output Format for Pull Request Title and Description

- Title: One-line summary of changes in a preformatted code box
- Subject: Markdown source in a preformatted code box
