---
applyTo: "**"
---

# Pull Request Guidelines

Keep pull requests focused, reviewable, and grounded in the repository’s instructions. Treat this document as the checklist before you hit “Create PR”.

## Before opening a PR

- Ensure the branch name reflects the work (`feature/<name>`, `fix/<name>`, etc.).
- Rebase on the latest `main` (or target branch) so reviewers see a linear history with no merge commits.
- Run `codepic lint` (and any relevant module/enabler tasks) so CI remains green.
- Verify documentation updates accompany behaviour changes; update `docs/features.md`, `docs/enablers.md`, or instructions as appropriate.
- Confirm commits follow `.commit.instructions.md`; squash or reorder when the story feels out of sequence.
- Remove stray debug logging, commented-out code, and temporary scripts.

## PR description essentials

- **Summary** — 1–3 sentences explaining what changed and why.
- **Testing** — List commands or scripts run locally (e.g., `codepic lint`, `codepic . install-enabler -Enabler azcli`).
- **Docs/Instructions** — Mention any documentation or instruction updates, or state “None” explicitly.
- **Follow-up** — Call out TODOs, known gaps, or stories you’ll tackle next so reviewers understand scope boundaries.
- Reference related issues or discussions using GitHub keywords (for example, “Fixes issue 123”).

## Review expectations

- Keep PRs small (≤ ~400 lines of diff) when possible. If the change is larger, use checklists or section headers in the description to guide reviewers.
- Tag domain-knowledgeable reviewers (module owners, instruction maintainers) and request additional reviewers for cross-cutting changes (security, docs, etc.).
- Respond to feedback promptly; resolve conversations only after applying the change or explaining why it’s out of scope.
- Update the PR description when scope shifts mid-review.

## After approval

- Re-run lint/tests if the branch has drifted since reviewers last looked.
- Squash or rebase to keep the merge commit clean; ensure the final commit message honours `.commit.instructions.md`.
- Use merge methods that preserve history clarity (squash or rebase preferred unless the project dictates otherwise).
- Tag the release notes owner if the change requires a mention in upcoming release documentation.
