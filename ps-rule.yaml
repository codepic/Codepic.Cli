requires:
  # Require a minimum of PSRule for Azure
  PSRule.Rules.Azure: ">=1.46.0"

configuration:
  # Enable expansion of Azure Template files.
  AZURE_PARAMETER_FILE_EXPANSION: true

  # Enable expansion of Azure Bicep files.
  AZURE_BICEP_FILE_EXPANSION: true

  # Configure the timeout for bicep build to 15 seconds.
  AZURE_BICEP_FILE_EXPANSION_TIMEOUT: 15

  # Enable Bicep CLI checks.
  AZURE_BICEP_CHECK_TOOL: true

  # Optionally, configure the minimum version of the Bicep CLI.
  AZURE_BICEP_MINIMUM_VERSION: "0.28.1"

  # Configure the minimum AKS cluster version.
  AZURE_AKS_CLUSTER_MINIMUM_VERSION: "1.30.6"

rule:
  # Enable custom rules that don't exist in the baseline
  includeLocal: true
#
#  # You can exclude rules as follows
#  exclude:
#    - Azure.VM.UseHybridUseBenefit
#    - Azure.VM.Standalone

# You can suppress specific rules for specific resources as follows
# https://azure.github.io/PSRule.Rules.Azure/concepts/suppression/
# suppression:
#   Azure.AKS.AuthorizedIPs:
#     # Exclude the following externally managed AKS clusters
#     - aks-cluster-prod-eus-001
#   Azure.Storage.SoftDelete:
#     # Exclude the following non-production storage accounts
#     - storagedeveus6jo36t
#     - storagedeveus1df278
